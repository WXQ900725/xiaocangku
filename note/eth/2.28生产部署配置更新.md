### 配置文件

#### 修改 application.yml

```xml
logging:
  config: classpath:logback-spring.xml

# 上传区块速率 n ms/块
task:
  enabled: true
  eventAnalyze: "0/5 * * * * ?"
  numberOfDelayBlocks: 1

# mybatis
mybatis:
  mapper-locations: classpath:com/reddate/ddc/dao/*.xml
  config-location: classpath:mybatis-config.xml
  type-aliases-package: com.reddate.ddc.dao

# mysql
mysql:
  master:
    password: 123456
    url: jdbc:mysql://192.168.1.176:3306/bsn_ddc?characterEncoding=UTF-8&useSSL=false&serverTimezone=Asia/Shanghai
    username: root
  slave:
    password: 123456
    url: jdbc:mysql://192.168.1.176:3306/bsn_ddc?characterEncoding=UTF-8&useSSL=false&serverTimezone=Asia/Shanghai
    username: root

spring:
  main:
    allow-bean-definition-overriding: true
  shardingsphere:
    datasource:
      master:
        driver-class-name: com.mysql.cj.jdbc.Driver
        password: ${mysql.master.password}
        type: com.alibaba.druid.pool.DruidDataSource
        url: ${mysql.master.url}
        username: ${mysql.master.username}
      names: master,slave
      slave:
        driver-class-name: com.mysql.cj.jdbc.Driver
        password: ${mysql.slave.password}
        type: com.alibaba.druid.pool.DruidDataSource
        url: ${mysql.slave.url}
        username: ${mysql.slave.username}
    masterslave:
      load-balance-algorithm-type: round_robin
      master-data-source-name: master
      name: dataSource
      slave-data-source-names: slave
    props:
      sql:
        show: false
    druid:
      max-active: 30
      # 从池中取连接的最大等待时间，单位ms
      max-wait: 10000
      # 最大空闲连接
      max-idle: 20
      # 最小空闲连接
      min-idle: 5
      # 初始化连接数量
      initial-size: 2
      # 验证使用的SQL语句
      validation-query: "select 1"
      # 指明连接是否被空闲连接回收器(如果有)进行检验.如果检测失败,则连接将被从池中去除
      test-while-idle: true
      # 借出连接时不要测试，否则很影响性能
      test-on-borrow: false
      # 每30秒运行一次空闲连接回收器
      time-between-eviction-runs-millis: 30000
      # 池中的连接空闲30分钟后被回收,默认值就是30分钟
      min-evictable-idle-time-millis: 1800000
      # 在每次空闲连接回收器线程(如果有)运行时检查的连接数量
      num-tests-per-eviction-run: 10
      # 连接泄漏回收参数，当可用连接数少于3个时才执行
      remove-abandoned: true
      # 连接泄漏回收参数，180秒，泄露的连接可以被删除的超时值
      remove-abandoned-timeout: 180
```

##### 修改 logback-spring.xml

logback-spring.xml 启动命令需修该：--logging.config=./conf/logback-spring.xml

```
<configuration scan="true" scanPeriod="60 seconds">
```

#### 新增 mybatis-config.xml
